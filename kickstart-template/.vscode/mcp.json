{
	"servers": {
{% if use_docker %}
		"hyper-mcp": {
			"type": "stdio",
			"command": "docker",
			"args": [
				"run",
				"-i",
				"--rm",
				"-v",
				"${PWD}.ai/hyper-mcp.json:/config.yaml",
				"ghcr.io/sevir/hyper-mcp:latest",
				"-c",
				"/config.yaml"
			],
			"env": {
				"SERPER_API_KEY": "${input:serper-api-key}",
				"PERPLEXITY_API_KEY": "${input:perplexity-api-key}",
				"GOOGLE_API_KEY": "${input:google-api-key}",
				"GOOGLE_SEARCH_ENGINE_ID": "${input:google-search-engine-id}",
				"BRAVE_API_KEY": "${input:brave-api-key}"
			}
		},
		"mycommandmcp": {
			"type": "stdio",
			"command": "docker",
			"args": [
				"run",
				"-i",
				"--rm",
				"-v${PWD}.ai/mycommand-mcp.yaml:/config.yaml",
				"ghcr.io/sevir/mycommandmcp:latest",
				"--config",
				"/config.yaml"
			]
		},
{% if include_serena %}
		"serena": {
			"type": "stdio",
			"command": "docker",
			"args": [
				"run",
				"--rm",
				"-i",
				"--network",
				"host", 
				"-v",
				"${PWD}:/workspaces/projects",
				"ghcr.io/oraios/serena:latest",
				"serena",
				"start-mcp-server",
				"--transport",
				"stdio"
				"--context",
				"ide-assistant",
				"--project",
				"/workspaces/projects"
			]
		},
{% endif %}
{% else %}
		"hyper-mcp": {
			"type": "stdio",
			"command": "hyper-mcp",
			"args": [
				"--config-file",
				".ai/hyper-mcp.json"
			],
			"env": {
				"SERPER_API_KEY": "${input:serper-api-key}",
				"PERPLEXITY_API_KEY": "${input:perplexity-api-key}",
				"GOOGLE_API_KEY": "${input:google-api-key}",
				"GOOGLE_SEARCH_ENGINE_ID": "${input:google-search-engine-id}",
				"BRAVE_API_KEY": "${input:brave-api-key}"
			}
		},
		"mycommandmcp": {
			"type": "stdio",
			"command": "mycommandmcp",
			"args": [
				"--config",
				".ai/mycommand-mcp.yaml"
			]
		},
{% if include_serena %}
		"serena": {
			"type": "stdio",
			"command": "pkgx",
			"args": [
				"uvx",
				"--from",
				"git+https://github.com/oraios/serena",
				"serena",
				"start-mcp-server",
				"--context",
				"ide-assistant",
				"--project",
				"./"
			]
		},
{% endif %}
{% endif %}
{% if include_remembrances %}
		"remembrances": {
			"type": "stdio",
			"command": "remembrances-mcp",
			"args": [
				"--surrealdb-url",
				"ws://localhost:8000",
				"--ollama-url",
				"http://localhost:11434",
				"--ollama-model",
				"nomic-embed-text:latest",
				"--knowledge-base",
				".serena/memories",
				"--surrealdb-start-cmd",
				"surreal start --user root --pass root surrealkv://{{ get_env(name='REMEMBRANCES_DB', default='remembrances_db') }}"
			]
		}
{% endif %}
	},
	"inputs": [
		{
			"type": "promptString",
			"id": "serper-api-key",
			"description": "Server service (google search) api-key",
			"password": true
		},
		{
			"type": "promptString",
			"id": "perplexity-api-key",
			"description": "Your Perplexity API key. Get one at https://www.perplexity.ai/api",
			"password": true
		},
		{
			"type": "promptString",
			"id": "google-api-key",
			"description": "Your Google API key. Get one at https://developers.google.com/custom-search/v1/overview",
			"password": true
		},
		{
			"type": "promptString",
			"id": "google-search-engine-id",
			"description": "Your Google Search Engine ID. Get one at https://cse.google.com/cse/all",
			"password": false
		},
		{
			"type": "promptString",
			"id": "brave-api-key",
			"description": "Your Brave Search API key. Get one at https://brave.com/search/api/",
			"password": true
		}
	]
}
